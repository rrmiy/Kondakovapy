#В исходном текстовом файле(hotline1.txt) найти всеномера телефонов,
#соответствующих шаблону 8(000)000-00-00. Посчитать количество полученных
#элементов. После фразы «Горячая линия» добавить фразу «Министерства
#образования Ростовской области», выполнив манипуляции в новом файле.


import re

# Исходный текст
with open('hotline1.txt', 'r', encoding='utf-8') as file:
    text = file.read()

# 1. Найти номера телефонов в формате 8(000)000-00-00 (фактически 8XXXXXXXXXX)
phone_pattern = re.compile(r'8\d{10}')  # Ищем 8 и 10 цифр после (итого 11 цифр)
phones = phone_pattern.findall(text)
phone_count = len(phones)

print("Найденные номера телефонов в формате 8(000)000-00-00:")
for phone in phones:
    print(phone)
print(f"\nВсего найдено номеров: {phone_count}")

# 2. Добавить "Министерства образования Ростовской области" после «Горячая линия»
updated_text = re.sub(
    r'(«Горячая линия»)(?=\s)',  # Ищем «Горячая линия» перед пробелом (позитивный lookahead)
    r'\1 Министерства образования Ростовской области',
    text
)

# Сохраняем измененный текст в новый файл
with open('hotlines_updated.txt', 'w', encoding='utf-8') as f:
    f.write(updated_text)

print("\nИзмененный текст сохранен в файл 'hotlines_updated.txt'")